<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sppstify Player</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Hind+Madurai&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="humanity-player.css">
  <script  src="jquery.min.js"></script>
  
  <style>
    /* 
    태그 제어 ( id, class, name ) ! name = Server 작업할 때 사용
    id = #, class = . 
    */
    #div_1 {
      background-color: black;
      color: white;
    }
    #div_2 {
      background-color: white;
    }
    #div_3 {
      background-color: yellow;
    }

    div.divClass {
      width: 100px;
      text-align: center;
    }

    #div_1 label {
      color: yellow;
    }
    .button {
      width: 200px;
      height: 50px;
      border-radius: 10px;
      background-color: white;
      font-size: 2em;
      
    }
    .button:first {
      float: left;
    }
    .button:nth-child(2){
      float: right;
    }
    #playlist {
      text-align: center;
      height: 275px;
      overflow-y: auto;
      /* overflow
        auto : 컨텐츠가 범위를 벗어날 때에만 스크롤 생성
        scroll : 컨텐츠가 범위를 벗어나는 것에 상관 없이 스크롤 생성
        visible : 컨텐츠가 범위를 벗어나도 벗어난 컨텐츠를 그대로 표시
        hidden : 컨텐츠가 범위를 벗어나면 벗어난 컨텐츠를 안보이게함
      */
    }

    .playlist-btn {
      width: 70%;
      height: 30px;
      border-radius: 5px;
      margin-top: 3px;
    }

    .song-active {
      background-color: #444444;
      color: white;
    }

    #description {
      width: 640px;
      height: 350px;
      background-color: #202020;
      color: white;
      position: fixed;
      border-radius: 5px;
      text-align: center;
      padding-top: 20px;
    }

    #desc-content {

    }

  </style>
  <script type="text/javascript">

    // document.getElementById('ytplayer')// origin javascript
    // $('#ytplayer')// jQuery

    var s_url = "https://www.youtube.com/embed/K_7To_y9IAM?autoplay=1" // sparkle 
    var c_url = "https://www.youtube.com/embed/f3I3Sxw1IGs?autoplay=1" // celebrity 
    var b_url = "https://www.youtube.com/embed/v8oqbWrP1QY?autoplay=1"  //벚꽃엔딩
    var j_url = "https://www.youtube.com/embed/_QGIzmtIr3E?autoplay=1" // dynamite

    var songList = new Array(s_url, c_url, b_url, j_url)

    // document -> page 로드가 끝났을 때 ( 페이지 표시하기 직전 )
    // window -> page 를 다 그리고 난 후

    $(document).ready(function(){
      // nextSong(0)
    })

    function nextSong(type){
      
      $('.song-active').removeClass('song-active') // song-active 클래스를 모두 지우고
      $('#song-'+type).addClass('song-active') // 파라미터로 넘어온 버튼에만 적용
      
      $('#ytplayer').attr('src',songList[type])

      switch(type){
          case 0 : $('#song-title').html("Sparkle"); break;
          case 1 : $('#song-title').html("Keep Changing the World"); break;
          case 2 : $('#song-title').html("Just the Two of Us"); break;
          case 3 : $('#song-title').html("Melting"); break;
      }

      random_bg_color()
    }

    function random_bg_color() { 
      // Get a random number between 64 to 256 
      // (for getting lighter colors) 
      let red = Math.floor(Math.random() * 256) + 64; 
      let green = Math.floor(Math.random() * 256) + 64; 
      let blue = Math.floor(Math.random() * 256) + 64; 
      
      // Construct a color withe the given values 
      let bgColor = "rgb(" + red + ", " + green + ", " + blue + ")"; 
      
      // Set the background to the new color 
      document.body.style.background = bgColor; 
    }


      // return false; //end
      random_bg_color()
    

    function random_bg_color() { 
      // Get a random number between 64 to 256 
      // (for getting lighter colors) 
      let red = Math.floor(Math.random() * 256) + 64; 
      let green = Math.floor(Math.random() * 256) + 64; 
      let blue = Math.floor(Math.random() * 256) + 64; 
      
      // Construct a color withe the given values 
      let bgColor = "rgb(" + red + ", " + green + ", " + blue + ")"; 
      
      // Set the background to the new color 
      document.body.style.background = bgColor; 
    }

    function description_over(){
      $('#description').fadeIn()
    }

    function description_out(){
      $('#description').fadeOut()
    }

  </script>
</head>
<body>
  <!-- id, class = 선택자(Selector) -->
  <div class="player">

    <h1 id="song-title" style="font-size: 3em; cursor: help;" onmouseover="description_over()" onmouseout="description_out()">Sparkle</h1>
    
    <!-- box-shadow : length > (x, y, blur, spread), inset(선택하면 안쪽에 그림자), color -->

    <div id="main-contents">

      <!-- 곡 정보 표시 용 -->
      <div id="description" hidden>
        <p id="desc-content">sd</p>
      </div>
      <!--                 -->

      <div class="contents" style="width: 315px; float: left;">
        <iframe id="ytplayer" width="315" height="360" src="https://www.youtube.com/embed/K_7To_y9IAM?autoplay=1"></iframe>
      </div>

      <!-- padding : 안쪽 여백 -->
      <!-- margin : 바깥쪽 여백 -->
      <div class="contents" style="width: 315px; float: right; height: 100%; margin-right: 10px;">
        <h2 class="song-title">Playlist</h2>
          
        <div id="playlist">
          <button type="button" id="song-0" class="playlist-btn song-active" onclick="nextSong(0)">Sparkle</button>
          <button type="button" id="song-1" class="playlist-btn" onclick="nextSong(1)">Keep Changing the World</button>
          <button type="button" id="song-2" class="playlist-btn" onclick="nextSong(2)">Just the Two of Us</button>
          <button type="button" id="song-3" class="playlist-btn" onclick="nextSong(3)">Melting</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
          <button type="button" class="playlist-btn">empty</button>
        </div>
      </div>
      <style>
        /*    .text = class,  #text = id        */
        #song-title,
        .song-title {
          text-align: center;
        }

        #song-content {
          /* border: 1px solid yellow; */
          padding-left: 10px;
          letter-spacing: 1px;
        }

        .btn {
          box-shadow: 2px 2px 2px rgb(49, 49, 49);
        }

        .btn:hover {
          background-color: rgb(238, 238, 238);
          cursor: pointer;
        }

        .btn:active {
          box-shadow: none;
        }

        #main-contents {
          border: 2px solid rgb(223, 214, 255); 
          width: 640px; 
          border-radius: 10px; 
          box-shadow: 5px 5px 5px rgb(49, 49, 49);
        }

        /* hover : 마우스를 올렸을 때 */
        /* #main-contents:hover {
          width: 700px;
          height: 400px;
          transition: 300ms;
        } */

        /* active : 마우스를 클릭하고 있을 때
        #main-contents:active {
          /* background-color: inherit; */
          /* box-shadow: 4px 4px 4px inset #444; */
        /* }  */

        /* visited : 마우스를 클릭 하고난 후 */
        #main-contents:visited {
          border-color: purple !important;
        }
      </style>




    </div>
    <br><b><br>
    
    <script>
      function changeSong(text) {

        // id = song-?

        var now_id = $('.song-active').attr('id')
        var index = now_id.substr(5,1)

        // alert("ID : " + now_id +", Index : " + index)

        if(text == "prev") {
          index = Number(index)-1
        } else {
          index = Number(index)+1
        }

        if(index < 0){
          alert('이전 곡이 없습니다.')
          return false
        }

        if(index > 3){
          alert('다음 곡이 없습니다.')
          return false
        }



        nextSong(index)

      }
    </script>

    <div style="width: 640px;">
      <button id="prev-btn" class="btn button" onclick="changeSong('prev')">Prev</button>
      <button id="next-btn" class="btn button" onclick="changeSong('next')">Next</button>
      <!— onclick = 클릭할 때 ( 마우스를 뗄 때 ) 발생하는 함수 지정 —>
    </div>
    <div id="comment" style="margin-top: 20px;">
      <h3>comment</h3>
      <input type="text" style="width: 100%;">
    </div>
    <script src="http://www.youtube.com/player_api"></script>
</body>
</html>
